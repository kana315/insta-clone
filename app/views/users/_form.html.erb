<%= form_with(model: @user, local: true) do |f| %>
  <% if @user.errors.any? %>
  <div class="alert alert-danger" role="alert">
    <h4><%= @user.errors.count %>件のエラーがあります。</h4>
    <ul>
      <% @user.errors.full_messages.each do |message| %>
      <li><%= message %></li>
      <% end %>
    </ul>
  </div>
  <% end %>

  <table class="form">
    <tr>
      <th><%= f.label :name %></th>
      <td><%= f.text_field :name %></td>
    </tr>
    <tr>
      <th><%= f.label :email %></th>
      <td><%= f.email_field :email %></td>
    </tr>
    <tr>
      <th><%= f.label :password %></th>
      <td><%= f.password_field :password %></td>
    </tr>
    <tr>
      <th><%= f.label :password_confirmation %></th>
      <td><%= f.password_field :password_confirmation %></td>
    </tr>
    <tr>
      <th><%= f.label :icon %></th>
      <td><%= f.file_field :icon, id: :user_icon %>
          <%= image_tag(@user.icon.url) if @user.icon.url %></td>
    </tr>
  </table>
  <%= f.submit choose_new_or_edit, :class => "submit" %>

<% end %>
